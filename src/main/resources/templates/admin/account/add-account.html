<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{admin/layout}">

<head>
  <title>Thêm tài khoản</title>
</head>

<body>

  <main layout:fragment="content">
    <div class="container-fluid">

      <!-- Section: Inputs -->
      <section class="section card mb-5">
        <div>
          <div class="card card-cascade narrower ">
            <div class="view view-cascade gradient-card-header blue-gradient narrower  ">
              <h3 class="card-header-title" th:text="#{chinchin}"></h3>
            </div>
        <div class="card-body">
          <form th:object="${taikhoan}" th:action="@{/admin/user/add-user}" action="#" enctype="multipart/form-data" method="post">
            <div th:switch="${messages}">
              <p th:case="'trungid'" class="alert alert-danger" role="alert">ID đã tồn tại</p>
            </div>
          <!-- Section heading -->

          <!-- Grid row -->
          <div class="row">

            <div class="col-md-3 mb-4">
              <div class="file-field">
                <div class="z-depth-1-half mb-4">
                  <img id="blah" th:src="@{'/getImage/placeholder.jpg'}"  class="img-fluid"  alt="example placeholder" style="height: 153px; min-width: 100%"/>
                </div>
                <div class="d-flex justify-content-center">
                  <div class="btn btn-mdb-color btn-rounded float-left">
                    <span>Choose file</span>
                    <input type="file" id="imgInp" name="images">
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-9 mb-4">
              <div class="row">
                <!-- Grid column -->
                <div class="col-md-4 mb-2">

                  <div class="md-form md-outline">
                    <i class="fas fa-key prefix"></i>
                    <input type="text" th:field="*{username}" id="form31" class="form-control">
                    <label for="form31" class="active" th:text="#{mottram}"></label>
                    <p th:if="${#fields.hasErrors('username')}" th:errors="*{username}" class="text-danger text-center"></p>
                  </div>

                </div>
                <div class="col-md-4 mb-4">

                  <div class="md-form md-outline">
                    <i class="fas fa-lock prefix"></i>
                    <input type="password" th:field="*{matkhau}" id="form33" class="form-control">
                    <label for="form33" class="active" th:text="#{motrammot}"></label>
                    <p th:if="${#fields.hasErrors('matkhau')}" th:errors="*{matkhau}" class="text-danger text-center"></p>
                  </div>

                </div>
                <div class="col-md-4 mb-2">
                  <select th:field="*{quyen}" class="mdb-select md-form colorful-select dropdown-primary initialized">
                    <option th:each="quyen1 : ${@quyenServiceImpl.getAllQuyen()}" th:value="${quyen1.id}" th:text="${quyen1.ten}">Hiện</option>
                  </select><label class="mdb-main-label active" th:text="#{mottramhai}"></label>
                </div>
              </div>

              <div class="row">
                <div class="col-md-4 mb-4">
                  <div class="md-form md-outline">
                    <i class="fas fa-user prefix"></i>
                    <input type="text" th:field="*{ten}" id="form32" class="form-control">
                    <label for="form32" class="active" th:text="#{mottramba}"></label>
                    <p th:if="${#fields.hasErrors('ten')}" th:errors="*{ten}" class="text-danger text-center"></p>
                  </div>
                </div>

                <!-- Grid column -->
                <div class="col-md-4 mb-4">

                  <div class="md-form md-outline">
                    <i class="fas fa-phone prefix"></i>
                    <input type="number" th:field="*{sodienthoai}" id="form34" class="form-control">
                    <label for="form34" class="active" th:text="#{mottramtu}"></label>
                    <p th:if="${#fields.hasErrors('sodienthoai')}" th:errors="*{sodienthoai}" class="text-danger text-center"></p>
                  </div>

                </div>

                <div class="col-md-4 mb-4">

                  <div class="md-form md-outline">
                    <i class="fas fa-envelope prefix"></i>
                    <input type="email"  th:field="*{email}" id="form35" class="form-control">
                    <label for="form35" class="active" th:text="#{mottramnam}"></label>
                    <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger text-center"></p>
                  </div>

                </div>

                <!-- Grid column -->
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4 mb-4">
              <div class="md-form md-outline">
                <i class="fas fa-calendar-alt prefix"></i>
                <input type="date" th:field="*{ngaysinh}" id="form31" class="form-control">
                <label for="form31" class="active" th:text="#{mottramsau}"></label>
                <p th:if="${#fields.hasErrors('ngaysinh')}" th:errors="*{ngaysinh}" class="text-danger text-center"></p>
              </div>
            </div>
            <div class="col-md-4 mb-4">

                <!-- Name -->
                <select  th:field="*{gioitinh}" class="mdb-select md-form colorful-select dropdown-primary initialized">
                  <option th:value="'0'" th:text="mottrambay" ></option>
                  <option th:value="'1'" th:text="mottramtam"></option>
                </select><label class="mdb-main-label active" th:text="#{mottramchin}"></label>

            </div>

            <div class="col-md-4 mb-4">

              <!-- Name -->
              <select th:field="*{trangthai}" class="mdb-select md-form colorful-select dropdown-primary initialized">
                <option th:value="'0'" th:text="mottrammuoi" ></option>
                <option th:value="'1'" th:text="mottrammuoimot"></option>
              </select><label class="mdb-main-label active" th:text="#{mottrammuoihai}"></label>

            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-6">

                <div class="md-form md-outline">
                  <i class="fas fa-address-card prefix"></i>
                  <textarea type="textarea" th:field="*{diachi}" id="form36" class="form-control"></textarea>
                  <label for="form36" class="active" th:text="#{mottrammuoiba}"></label>
                </div>

            </div>
            <div class="col-md-6 mb-6">

                <div class="md-form md-outline">
                  <i class="fas fa-clipboard prefix"></i>
                  <textarea type="textarea" th:field="*{mota}" id="form37" class="form-control"></textarea>
                  <label for="form37" class="active" th:text="#{mottrammuoitu}"></label>
                </div>

            </div>
          </div>
          <div class="row">
            <!-- First column -->
            

            <!-- Second column -->
          </div>
          <!-- Grid row -->
          <hr>
          <div class="row">

            <!-- Grid column -->
            <div class="col-md-12 mb-4 ">

              <button type="submit" class="btn blue-gradient float-right btn-rounded " th:text="#{mottrammuoilam}"></button>

            </div>
            <!-- Grid column -->

          </div>
          </form>
        </div>
        </div>
        </div>
      </section>
      <!-- Section: Inputs -->
    </div>
  </main>
  <th:block layout:fragment="optional">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>
      function readURL(input) {
        if (input.files && input.files[0]) {
          var reader = new FileReader();
          reader.onload = function(e) {
            $('#blah').attr('src', e.target.result);
          }

          reader.readAsDataURL(input.files[0]); // convert to base64 string
        }
      }

      $('#imgInp').change(function() {
        readURL(this);

      });
    </script>
  </th:block>
</body>

</html>