<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{${trang}}">

<head>
    <title>Sign in</title>
</head>

<body
      th:style="'background-image:url(' + @{/img/images/bkg.jpg} + ');background-repeat: no-repeat; background-size: cover; background-position: center center;background-attachment: fixed;'">

<main layout:fragment="content" style="padding: 0;">
    <div class="container-fluid pt-5 mt-5">

        <!-- Section: Blog v.2 -->
        <section class="wow fadeIn" data-wow-delay="0.3s">

            <!-- Grid row -->
            <div class="row">
                <h5 th:utext="${message}"></h5>
                <div class="col-12">
                    <div class="d-flex align-items-center justify-content-center"  style="height: 51vh">
                        <!--Card -->
                        <div class="card rgba-black-light white-text rounded h-100 w-100">
                            <!--Card content -->
                            <div class="card-body d-flex align-items-center justify-content-center">
                                <div class="d-flex align-items-center justify-content-center rgba-black-strong h-100 w-50">
                                    <!-- Login form -->
                                    <form th:action="@{/reset_password}"  method="post" style="max-width: 350px; margin: 0 auto;">
                                        <input type="hidden" name="token" th:value="${token}" />
                                        <div class="border border-secondary rounded p-3">
                                            <div>
                                                <p>
                                                    <input type="password" name="password" id="password" class="form-control"
                                                           placeholder="Enter your new password" required autofocus />
                                                </p>
                                                <p>
                                                    <input type="password" class="form-control" placeholder="Confirm your new password"
                                                           required oninput="checkPasswordMatch(this);" />
                                                </p>
                                                <p class="text-center">
                                                    <input type="submit" value="Change Password" class="btn btn-primary" />
                                                </p>
                                            </div>
                                        </div>
                                    </form>
                                    <!-- Login form -->
                                </div>


                            </div>

                        </div>
                        <!--Card -->
                    </div>

                </div>

            </div>
            <!-- Grid row -->

        </section>
        <!-- Section: Blog v.2 -->

    </div>
</main>
<script type="text/javascript">
    function checkPasswordMatch(fieldConfirmPassword) {
        if (fieldConfirmPassword.value != $("#password").val()) {
            fieldConfirmPassword.setCustomValidity("Passwords do not match!");
        } else {
            fieldConfirmPassword.setCustomValidity("");
        }
    }
</script>
</body>

</html>